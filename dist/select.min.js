/*!
 * ui-select
 * http://github.com/angular-ui/ui-select
 * Version: 0.8.3 - 2014-10-14T18:22:05.432Z
 * License: MIT
 */
(function(){var b={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,COMMAND:91,isControl:function(f){switch(f.which){case b.COMMAND:case b.SHIFT:case b.CTRL:case b.ALT:return!0}return f.metaKey?!0:!1},isFunctionKey:function(b){b=b.which?b.which:b;return 112<=b&&123>=b},isVerticalMovement:function(f){return~[b.UP,b.DOWN].indexOf(f)},isHorizontalMovement:function(f){return~[b.LEFT,b.RIGHT,b.BACKSPACE,b.DELETE].indexOf(f)}};
void 0===angular.element.prototype.querySelectorAll&&(angular.element.prototype.querySelectorAll=function(b){return angular.element(this[0].querySelectorAll(b))});angular.module("ui.select",[]).constant("uiSelectConfig",{theme:"bootstrap",searchEnabled:!0,placeholder:"",refreshDelay:1E3}).service("uiSelectMinErr",function(){var b=angular.$$minErr("ui.select");return function(){var g=b.apply(this,arguments).message.replace(/\nhttp:\/\/errors.angularjs.org\/.*/,"");return Error(g)}}).service("RepeatParser",
["uiSelectMinErr","$parse",function(b,g){this.parse=function(l){var p=l.match(/^\s*(?:([\s\S]+?)\s+as\s+)?([\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw b("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",l);return{itemName:p[2],source:g(p[3]),trackByExp:p[4],modelMapper:g(p[1]||p[2])}};this.getGroupNgRepeatExpression=function(){return"$group in $select.groups"};this.getNgRepeatExpression=function(b,f,g,e){b=b+" in "+(e?"$group.items":
f);g&&(b+=" track by "+g);return b}}]).controller("uiSelectCtrl",["$scope","$element","$timeout","RepeatParser","uiSelectMinErr",function(f,g,l,p,m){function e(){a.resetSearchInput&&(a.search="",a.selected&&a.items.length&&!a.multiple&&(a.activeIndex=a.items.indexOf(a.selected)))}function u(r){var q=k(n[0]),d=a.selected.length-1,c=a.activeMatchIndex,f=a.activeMatchIndex+1,e=a.activeMatchIndex-1,h=c;if(0<q||a.search.length&&r==b.RIGHT)return!1;a.close();h=function(){switch(r){case b.LEFT:return~a.activeMatchIndex?
e:d;case b.RIGHT:if(~a.activeMatchIndex&&c!==d)return f;a.activate();return!1;case b.BACKSPACE:return~a.activeMatchIndex?(a.removeChoice(c),e):d;case b.DELETE:return~a.activeMatchIndex?(a.removeChoice(a.activeMatchIndex),c):!1}}();a.activeMatchIndex=a.selected.length&&!1!==h?Math.min(d,Math.max(0,h)):-1;return!0}function k(a){return angular.isNumber(a.selectionStart)?a.selectionStart:a.value.length}function t(){var b=g.querySelectorAll(".ui-select-choices-content"),c=b.querySelectorAll(".ui-select-choices-row");
if(1>c.length)throw m("choices","Expected multiple .ui-select-choices-row but got '{0}'.",c.length);var c=c[a.activeIndex],d=c.offsetTop+c.clientHeight-b[0].scrollTop,f=b[0].offsetHeight;d>f?b[0].scrollTop+=d-f:d<c.clientHeight&&(b[0].scrollTop=a.isGrouped&&0===a.activeIndex?0:b[0].scrollTop-(c.clientHeight-d))}var a=this;a.placeholder=void 0;a.search="";a.activeIndex=0;a.activeMatchIndex=-1;a.items=[];a.selected=void 0;a.open=!1;a.focus=!1;a.focusser=void 0;a.disabled=void 0;a.searchEnabled=void 0;
a.resetSearchInput=void 0;a.refreshDelay=void 0;a.multiple=!1;a.disableChoiceExpression=void 0;a.isEmpty=function(){return angular.isUndefined(a.selected)||null===a.selected||""===a.selected};var n=g.querySelectorAll("input.ui-select-search");if(1!==n.length)throw m("searchInput","Expected 1 input.ui-select-search but got '{0}'.",n.length);a.activate=function(b,c){a.disabled||a.open||(c||e(),a.focusser.prop("disabled",!0),a.open=!0,a.activeMatchIndex=-1,a.activeIndex=a.activeIndex>=a.items.length?
0:a.activeIndex,l(function(){a.search=b||a.search;n[0].focus()}))};a.findGroupByName=function(b){return a.groups&&a.groups.filter(function(a){return a.name===b})[0]};a.parseRepeatAttr=function(b,c){function d(d){a.groups=[];angular.forEach(d,function(d){var b=f.$eval(c),b=angular.isFunction(b)?b(d):d[b],r=a.findGroupByName(b);r?r.items.push(d):a.groups.push({name:b,items:[d]})});a.items=[];a.groups.forEach(function(d){a.items=a.items.concat(d.items)})}function e(d){a.items=d}var h=c?d:e;a.parserResult=
p.parse(b);a.isGrouped=!!c;a.itemProperty=a.parserResult.itemName;f.$watchCollection(a.parserResult.source,function(d){if(void 0===d||null===d)a.items=[];else if(angular.isArray(d))a.multiple&&(d=d.filter(function(d){return 0>a.selected.indexOf(d)})),h(d),a.ngModel.$modelValue=null;else throw m("items","Expected an array but got '{0}'.",d);});a.multiple&&f.$watchCollection("$select.selected",function(d){var b=a.parserResult.source(f);d.length&&(b=b.filter(function(a){return 0>d.indexOf(a)}));h(b);
a.sizeSearchInput()})};var c;a.refresh=function(b){void 0!==b&&(c&&l.cancel(c),c=l(function(){f.$eval(b)},a.refreshDelay))};a.setActiveItem=function(b){a.activeIndex=a.items.indexOf(b)};a.isActive=function(b){return a.open&&a.items.indexOf(b[a.itemProperty])===a.activeIndex};a.isDisabled=function(b){if(a.open){var c=a.items.indexOf(b[a.itemProperty]),d=!1;0<=c&&!angular.isUndefined(a.disableChoiceExpression)&&(c=a.items[c],d=!!b.$eval(a.disableChoiceExpression),c._uiSelectChoiceDisabled=d);return d}};
a.select=function(b,c){if(void 0===b||!b._uiSelectChoiceDisabled){var d={};d[a.parserResult.itemName]=b;a.onSelectCallback(f,{$item:b,$model:a.parserResult.modelMapper(f,d)});a.multiple?(a.selected.push(b),a.sizeSearchInput()):a.selected=b;a.close(c)}};a.close=function(b){a.open&&(e(),a.open=!1,a.multiple||l(function(){a.focusser.prop("disabled",!1);b||a.focusser[0].focus()},0,!1))};a.toggle=function(b){a.open?(a.close(),b.preventDefault(),b.stopPropagation()):a.activate()};a.removeChoice=function(b){var c=
a.selected[b],d={};d[a.parserResult.itemName]=c;a.selected.splice(b,1);a.activeMatchIndex=-1;a.sizeSearchInput();a.onRemoveCallback(f,{$item:c,$model:a.parserResult.modelMapper(f,d)})};a.getPlaceholder=function(){if(!a.multiple||!a.selected.length)return a.placeholder};var h;a.sizeSearchInput=function(){var a=n[0],b=n.parent().parent()[0];n.css("width","10px");var d=function(){var d=b.clientWidth-a.offsetLeft-10;50>d&&(d=b.clientWidth);n.css("width",d+"px")};l(function(){0!==b.clientWidth||h?h||d():
h=f.$watch(function(){return b.clientWidth},function(a){0!==a&&(d(),h(),h=null)})},0,!1)};n.on("keydown",function(c){var e=c.which;f.$apply(function(){var d=!1;a.multiple&&b.isHorizontalMovement(e)&&(d=u(e));if(!d&&0<a.items.length)switch(d=!0,e){case b.DOWN:!a.open&&a.multiple?a.activate(!1,!0):a.activeIndex<a.items.length-1&&a.activeIndex++;break;case b.UP:!a.open&&a.multiple?a.activate(!1,!0):0<a.activeIndex&&a.activeIndex--;break;case b.TAB:a.multiple&&!a.open||a.select(a.items[a.activeIndex],
!0);break;case b.ENTER:a.open?a.select(a.items[a.activeIndex]):a.activate(!1,!0);break;case b.ESC:a.close();break;default:d=!1}d&&e!=b.TAB&&(c.preventDefault(),c.stopPropagation())});b.isVerticalMovement(e)&&0<a.items.length&&t()});n.on("blur",function(){l(function(){a.activeMatchIndex=-1})});f.$on("$destroy",function(){n.off("keydown blur")})}]).directive("uiSelect",["$document","uiSelectConfig","uiSelectMinErr","$compile","$parse",function(f,g,l,p,m){return{restrict:"EA",templateUrl:function(b,
f){return(f.theme||g.theme)+(angular.isDefined(f.multiple)?"/select-multiple.tpl.html":"/select.tpl.html")},replace:!0,transclude:!0,require:["uiSelect","ngModel"],scope:!0,controller:"uiSelectCtrl",controllerAs:"$select",link:function(e,g,k,t,a){function n(a){var b=!1,b=window.jQuery?window.jQuery.contains(g[0],a.target):g[0].contains(a.target);b||(c.close(),e.$digest())}var c=t[0],h=t[1],r=g.querySelectorAll("input.ui-select-search");c.multiple=angular.isDefined(k.multiple)?""===k.multiple?!0:"true"===
k.multiple.toLowerCase():!1;c.onSelectCallback=m(k.onSelect);c.onRemoveCallback=m(k.onRemove);h.$parsers.unshift(function(a){var b={};if(c.multiple){a=[];for(var f=c.selected.length-1;0<=f;f--)b={},b[c.parserResult.itemName]=c.selected[f],b=c.parserResult.modelMapper(e,b),a.unshift(b);return a}b={};b[c.parserResult.itemName]=a;return b=c.parserResult.modelMapper(e,b)});h.$formatters.unshift(function(a){var b=c.parserResult.source(e,{$select:{search:""}}),f={},h;if(b){if(c.multiple){var g=[],l=function(a,
b){if(a&&a.length){for(var d=a.length-1;0<=d;d--)if(f[c.parserResult.itemName]=a[d],h=c.parserResult.modelMapper(e,f),h==b)return g.unshift(a[d]),!0;return!1}};if(!a)return g;for(var k=a.length-1;0<=k;k--)l(c.selected,a[k])||l(b,a[k]);return g}l=function(b){f[c.parserResult.itemName]=b;h=c.parserResult.modelMapper(e,f);return h==a};if(c.selected&&l(c.selected))return c.selected;for(k=b.length-1;0<=k;k--)if(l(b[k]))return b[k]}return a});c.ngModel=h;var q=angular.element("<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' aria-haspopup='true' role='button' />");
k.tabindex&&k.$observe("tabindex",function(a){c.multiple?r.attr("tabindex",a):q.attr("tabindex",a);g.removeAttr("tabindex")});p(q)(e);c.focusser=q;c.multiple||(g.append(q),q.bind("focus",function(){e.$evalAsync(function(){c.focus=!0})}),q.bind("blur",function(){e.$evalAsync(function(){c.focus=!1})}),q.bind("keydown",function(a){if(a.which===b.BACKSPACE)a.preventDefault(),a.stopPropagation(),c.select(void 0),e.$apply();else if(a.which!==b.TAB&&!b.isControl(a)&&!b.isFunctionKey(a)&&a.which!==b.ESC){if(a.which==
b.DOWN||a.which==b.UP||a.which==b.ENTER||a.which==b.SPACE)a.preventDefault(),a.stopPropagation(),c.activate();e.$digest()}}),q.bind("keyup input",function(a){a.which===b.TAB||b.isControl(a)||b.isFunctionKey(a)||a.which===b.ESC||a.which==b.ENTER||a.which===b.BACKSPACE||(c.activate(q.val()),q.val(""),e.$digest())}));e.$watch("searchEnabled",function(){var a=e.$eval(k.searchEnabled);c.searchEnabled=void 0!==a?a:!0});k.$observe("disabled",function(){c.disabled=void 0!==k.disabled?k.disabled:!1});k.$observe("resetSearchInput",
function(){var a=e.$eval(k.resetSearchInput);c.resetSearchInput=void 0!==a?a:!0});c.multiple?(e.$watchCollection(function(){return h.$modelValue},function(a,b){b!=a&&(h.$modelValue=null)}),e.$watchCollection("$select.selected",function(){h.$setViewValue(Date.now())}),q.prop("disabled",!0)):e.$watch("$select.selected",function(a){h.$viewValue!==a&&h.$setViewValue(a)});h.$render=function(){if(c.multiple&&!angular.isArray(h.$viewValue))if(angular.isUndefined(h.$viewValue)||null===h.$viewValue)c.selected=
[];else throw l("multiarr","Expected model value to be array but got '{0}'",h.$viewValue);c.selected=h.$viewValue};f.on("click",n);e.$on("$destroy",function(){f.off("click",n)});a(e,function(a){a=angular.element("<div>").append(a);var b=a.querySelectorAll(".ui-select-match");b.removeAttr("ui-select-match");if(1!==b.length)throw l("transcluded","Expected 1 .ui-select-match but got '{0}'.",b.length);g.querySelectorAll(".ui-select-match").replaceWith(b);a=a.querySelectorAll(".ui-select-choices");a.removeAttr("ui-select-choices");
if(1!==a.length)throw l("transcluded","Expected 1 .ui-select-choices but got '{0}'.",a.length);g.querySelectorAll(".ui-select-choices").replaceWith(a)})}}}]).directive("uiSelectChoices",["uiSelectConfig","RepeatParser","uiSelectMinErr","$compile",function(b,g,l,p){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(g){return(g.parent().attr("theme")||b.theme)+"/choices.tpl.html"},compile:function(m,e){if(!e.repeat)throw l("repeat","Expected 'repeat' expression.");
return function(e,k,m,a,n){var c=m.groupBy;a.parseRepeatAttr(m.repeat,c);a.disableChoiceExpression=m.uiDisableChoice;if(c){var h=k.querySelectorAll(".ui-select-choices-group");if(1!==h.length)throw l("rows","Expected 1 .ui-select-choices-group but got '{0}'.",h.length);h.attr("ng-repeat",g.getGroupNgRepeatExpression())}h=k.querySelectorAll(".ui-select-choices-row");if(1!==h.length)throw l("rows","Expected 1 .ui-select-choices-row but got '{0}'.",h.length);h.attr("ng-repeat",g.getNgRepeatExpression(a.parserResult.itemName,
"$select.items",a.parserResult.trackByExp,c)).attr("ng-mouseenter","$select.setActiveItem("+a.parserResult.itemName+")").attr("ng-click","$select.select("+a.parserResult.itemName+")");c=k.querySelectorAll(".ui-select-choices-row-inner");if(1!==c.length)throw l("rows","Expected 1 .ui-select-choices-row-inner but got '{0}'.",c.length);c.attr("uis-transclude-append","");p(k,n)(e);e.$watch("$select.search",function(b){b&&!a.open&&a.multiple&&a.activate(!1,!0);a.activeIndex=0;a.refresh(m.refresh)});m.$observe("refreshDelay",
function(){var c=e.$eval(m.refreshDelay);a.refreshDelay=void 0!==c?c:b.refreshDelay})}}}}]).directive("uisTranscludeAppend",function(){return{link:function(b,g,l,p,m){m(b,function(b){g.append(b)})}}}).directive("uiSelectMatch",["uiSelectConfig",function(b){return{restrict:"EA",require:"^uiSelect",replace:!0,transclude:!0,templateUrl:function(g){var l=g.parent().attr("theme")||b.theme;g=g.parent().attr("multiple");return l+(g?"/match-multiple.tpl.html":"/match.tpl.html")},link:function(g,l,p,m){p.$observe("placeholder",
function(e){m.placeholder=void 0!==e?e:b.placeholder});m.multiple&&m.sizeSearchInput()}}}]).filter("highlight",function(){return function(b,g){return g&&b?b.replace(new RegExp(g.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),'<span class="ui-select-highlight">$&</span>'):b}})})();
angular.module("ui.select").run(["$templateCache",function(b){b.put("bootstrap/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content dropdown-menu" role="menu" aria-labelledby="dLabel" ng-show="$select.items.length > 0"><li class="ui-select-choices-group"><div class="divider" ng-show="$select.isGrouped && $index > 0"></div><div ng-show="$select.isGrouped" class="ui-select-choices-group-label dropdown-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><a href="javascript:void(0)" class="ui-select-choices-row-inner"></a></div></li></ul>');b.put("bootstrap/match-multiple.tpl.html",
'<span class="ui-select-match"><span ng-repeat="$item in $select.selected"><span style="margin-right: 3px;" class="ui-select-match-item btn btn-default btn-xs" tabindex="-1" type="button" ng-disabled="$select.disabled" ng-click="$select.activeMatchIndex = $index;" ng-class="{\'btn-primary\':$select.activeMatchIndex === $index}"><span class="close ui-select-match-close" ng-hide="$select.disabled" ng-click="$select.removeChoice($index)">&nbsp;&times;</span> <span uis-transclude-append=""></span></span></span></span>');
b.put("bootstrap/match.tpl.html",'<button type="button" class="btn btn-default form-control ui-select-match" tabindex="-1" ng-hide="$select.open" ng-disabled="$select.disabled" ng-class="{\'btn-default-focus\':$select.focus}" ;="" ng-click="$select.toggle($event)"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="text-muted">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" ng-transclude=""></span> <span class="caret ui-select-toggle" ng-click="$select.toggle($event)"></span></button>');
b.put("bootstrap/select-multiple.tpl.html",'<div class="ui-select-multiple ui-select-bootstrap dropdown form-control" ng-class="{open: $select.open}"><div><div class="ui-select-match"></div><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search input-xs" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-click="$select.toggle($event)" ng-model="$select.search"></div><div class="ui-select-choices"></div></div>');
b.put("bootstrap/select.tpl.html",'<div class="ui-select-bootstrap dropdown" ng-class="{open: $select.open}"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="form-control ui-select-search" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-show="$select.searchEnabled && $select.open"><div class="ui-select-choices"></div></div>');b.put("select2/choices.tpl.html",'<ul class="ui-select-choices ui-select-choices-content select2-results"><li class="ui-select-choices-group" ng-class="{\'select2-result-with-children\': $select.isGrouped}"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label select2-result-label">{{$group.name}}</div><ul ng-class="{\'select2-result-sub\': $select.isGrouped, \'select2-result-single\': !$select.isGrouped}"><li class="ui-select-choices-row" ng-class="{\'select2-highlighted\': $select.isActive(this), \'select2-disabled\': $select.isDisabled(this)}"><div class="select2-result-label ui-select-choices-row-inner"></div></li></ul></li></ul>');
b.put("select2/match-multiple.tpl.html",'<span class="ui-select-match"><li class="ui-select-match-item select2-search-choice" ng-repeat="$item in $select.selected" ng-class="{\'select2-search-choice-focus\':$select.activeMatchIndex === $index}"><span uis-transclude-append=""></span> <a href="javascript:;" class="ui-select-match-close select2-search-choice-close" ng-click="$select.removeChoice($index)" tabindex="-1"></a></li></span>');b.put("select2/match.tpl.html",'<a class="select2-choice ui-select-match" ng-class="{\'select2-default\': $select.isEmpty()}" ng-click="$select.toggle($event)"><span ng-show="$select.searchEnabled && $select.isEmpty()" class="select2-chosen">{{$select.placeholder}}</span> <span ng-hide="$select.isEmpty()" class="select2-chosen" ng-transclude=""></span> <span class="select2-arrow ui-select-toggle" ng-click="$select.toggle($event)"><b></b></span></a>');
b.put("select2/select-multiple.tpl.html",'<div class="ui-select-multiple select2 select2-container select2-container-multi" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled}"><ul class="select2-choices"><span class="ui-select-match"></span><li class="select2-search-field"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="select2-input ui-select-search" placeholder="{{$select.getPlaceholder()}}" ng-disabled="$select.disabled" ng-hide="$select.disabled" ng-model="$select.search" ng-click="$select.toggle($event)" style="width: 34px;"></li></ul><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="ui-select-choices"></div></div></div>');
b.put("select2/select.tpl.html",'<div class="select2 select2-container" ng-class="{\'select2-container-active select2-dropdown-open\': $select.open,\n                \'select2-container-disabled\': $select.disabled,\n                \'select2-container-active\': $select.focus }"><div class="ui-select-match"></div><div class="select2-drop select2-with-searchbox select2-drop-active" ng-class="{\'select2-display-none\': !$select.open}"><div class="select2-search" ng-show="$select.searchEnabled"><input type="text" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" class="ui-select-search select2-input" ng-model="$select.search"></div><div class="ui-select-choices"></div></div></div>');
b.put("selectize/choices.tpl.html",'<div ng-show="$select.open" class="ui-select-choices selectize-dropdown single"><div class="ui-select-choices-content selectize-dropdown-content"><div class="ui-select-choices-group optgroup"><div ng-show="$select.isGrouped" class="ui-select-choices-group-label optgroup-header">{{$group.name}}</div><div class="ui-select-choices-row" ng-class="{active: $select.isActive(this), disabled: $select.isDisabled(this)}"><div class="option ui-select-choices-row-inner" data-selectable=""></div></div></div></div></div>');
b.put("selectize/match.tpl.html",'<div ng-hide="$select.searchEnabled && ($select.open || $select.isEmpty())" class="ui-select-match" ng-transclude=""></div>');b.put("selectize/select.tpl.html",'<div class="selectize-control single"><div class="selectize-input" ng-class="{\'focus\': $select.open, \'disabled\': $select.disabled, \'selectize-focus\' : $select.focus}" ng-click="$select.toggle($event)"><div class="ui-select-match"></div><input type="text" autocomplete="off" tabindex="-1" class="ui-select-search ui-select-toggle" ng-click="$select.toggle($event)" placeholder="{{$select.placeholder}}" ng-model="$select.search" ng-hide="!$select.searchEnabled || ($select.selected && !$select.open)" ng-disabled="$select.disabled"></div><div class="ui-select-choices"></div></div>')}]);
